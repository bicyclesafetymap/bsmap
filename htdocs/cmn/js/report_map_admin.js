function createMap(e){$("#"+e[4]).css("height",e[6]);var t=new google.maps.LatLng(e[2],e[3]),a=[{elementType:"geometry",stylers:[{hue:"#ff4400"},{saturation:-100},{lightness:-4},{gamma:.72}]},{featureType:"road",elementType:"labels.icon"},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{hue:"#0077ff"},{gamma:3.1}]},{featureType:"water",stylers:[{hue:"#00ccff"},{gamma:.44},{saturation:-33}]},{featureType:"poi.park",stylers:[{hue:"#44ff00"},{saturation:-23}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{hue:"#007fff"},{gamma:.77},{saturation:65},{lightness:99}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{gamma:.11},{weight:5.6},{saturation:99},{hue:"#0091ff"},{lightness:-86}]},{featureType:"transit.line",elementType:"geometry",stylers:[{lightness:-48},{hue:"#ff5e00"},{gamma:1.2},{saturation:-23}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{saturation:-64},{hue:"#ff9100"},{lightness:16},{gamma:.47},{weight:2.7}]}],o={zoom:16,center:t,styles:a,mapTypeControl:!1,scrollwheel:!0,panControl:!1,streetViewControl:!1,disableDoubleClickZoom:!1,zoomControl:!1},n="<strong>"+e[0]+"</strong><br>"+e[1],l=new google.maps.LatLng(e[2],e[3]),r={url:"/cmn/img/report/pic_mappin.png"};map=new google.maps.Map(document.getElementById(e[4]),o);createMarker(n,l,r,map)}function createMarker(e,t,a,o){var n=(new google.maps.InfoWindow,new google.maps.Marker({position:t,icon:a,map:o,animation:google.maps.Animation.DROP,draggable:!0}));google.maps.event.addListener(n,"dragend",function(e){$("#map_latitude").val(e.latLng.lat()),$("#map_longitude").val(e.latLng.lng())})}function start_func(){$("#changeMap").text("位置情報取得しています。"),navigator.geolocation&&navigator.geolocation.getCurrentPosition(successCallback,errorCallback)}function successCallback(e){"undefined"==typeof post_latitude?Potition_lat=e.coords.latitude:Potition_lat=post_latitude,"undefined"==typeof post_longitude?Potition_lng=e.coords.longitude:Potition_lng=post_longitude,mapRender(Potition_lat,Potition_lng)}function errorCallback(e){$("#changeMap").text("位置情報取得します")}function mapRender(e,t,a){createMap(["","",e,t,"changeMap","600","350"]),"undefined"!=typeof a&&a===!0||($("#map_latitude").val(e),$("#map_longitude").val(t))}function getLatLng(e){var t=new google.maps.Geocoder;t.geocode({address:e},function(e,t){if(t==google.maps.GeocoderStatus.OK){var a;new google.maps.LatLngBounds;for(var o in e)e[o].geometry&&(a=e[o].geometry.location);var n=a.lat(),l=a.lng();mapRender(n,l)}else alert("取得できませんでした")})}var currentWindow=null,map;!function(){var e=google.maps.InfoWindow.prototype.set;google.maps.InfoWindow.prototype.set=function(t,a){("map"!==t||this.get("noSuppress"))&&e.apply(this,arguments)}}(),$(function(){$(".areaInputBox"),$("html");start_func(),$("#datetimepicker").datetimepicker({dayViewHeaderFormat:"YYYY MMM",format:"YYYY-MM-DD HH:mm",locale:"ja"}),$("#map_search").on("click",function(e){var t=$("#map_address").val();getLatLng(t)}),$("#map_reflection").on("click",function(e){e.preventDefault(),$("#form_latitude").val($("#map_latitude").val()),$("#form_longitude").val($("#map_longitude").val())}),$("#form_reflection").on("click",function(e){e.preventDefault(),mapRender($("#form_latitude").val(),$("#form_longitude").val())})});